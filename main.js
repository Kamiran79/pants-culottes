const pants01 = [{
    id: 00,
    name: "Georgette Wide-Leg Pants St John Collection",
    nameD: "St John Collection georgette layered pants",
    price: 150.00,
    model: "History Culotte",
    size: [2, 4, 6],
    imgUrl: [{
      color: "black",
      url: "https://images.neimanmarcus.com/ca/6/product_assets/B/2/Z/D/Q/NMB2ZDQ_mz.jpg"
    }],
    disc: "St John Collection georgette layered pants. Banded waist. Wide relaxed-fit legs.",
    productURL: "https://www.neimanmarcus.com/p/st-john-collection-georgette-wide-leg-pants-prod179760472",

  },
  {
    id: 01,
    name: "G-Star RAW Women High Waist Culotte Sweatpants",
    nameD: "",
    price: 130.00,
    model: "Fashion Culotte",
    size: [8],
    imgUrl: [{
        color: "Grey",
        url: "https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQcMmej_GtcHOLlhwagZ2HzPqtkoXLrp089HdagzwnI0qszQsBDMLXcqq-4RZjWOrSx2SltJU4&usqp=CAc"
      },
      {
        color: "Beige",
        url: "https://img1.g-star.com/product/c_fill,f_auto,h_675,q_80/v1583927558/D17299-C332-B436-Z01W/g-star-raw-high-waist-culotte-sweatpants-pink.jpg"
      }
    ],
    disc: "A broad elasticated waist offers an integrated drawstring. The High Waist Culotte sweatpants is designed in a wide flared fit and a high waist. Inset pockets are added. The leghems show a raw edge finish.",
    productURL: "https://www.g-star.com/en_us/shop/women/pants/d17299-c332-b436",

  },
  {
    id: 02,
    name: "Floral-Print Silk Twill Cropped Pajama Culottes",
    nameD: "Gucci",
    price: 1500.00,
    model: "Fashion Culotte",
    size: [4, 6],
    imgUrl: [{
        color: "Bisque",

        url: "https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQjqy_G8BxwPDP0rgUXnQAZiN3TdhX4n3N06VFYtTLHMWORuSBw50xZUa245OcOTVEyikwAValJ&usqp=CAc"
      },

    ],
    disc: "Floral-print silk twill pajama culottes. Wide legs. Relaxed fit. Knee-length. made in Italy.",
    productURL: "https://www.neimanmarcus.com/p/gucci-floral-print-silk-twill-cropped-pajama-culottes-prod211240215?utm_source=google_shopping&adpos=&scid=scplpsku179331122&sc_intid=sku179331122&ecid=NMCS__GooglePLA&gclid=Cj0KCQjw2PP1BRCiARIsAEqv-pRhK4SBzlvxuhAyJf3rIR5arB39tLsI9qxcAXFFg558Xic5mQ5836EaAjDAEALw_wcB&gclsrc=aw.ds",

  },
  {
    id: 03,
    name: "Brooklyn Wide Leg Crop Pant",
    nameD: "Gucci",
    price: 89.00,
    model: "Fashion Culotte",
    size: [2, 4, 6, 8],
    imgUrl: [{
        color: "Maroon",
        url: "https://www1.assets-gap.com/webcontent/0018/546/878/cn18546878.jpg",
      },
      {
        color: "Black",
        url: "https://www1.assets-gap.com/webcontent/0018/546/959/cn18546959.jpg",
      },
      {
        color: "Bisque",
        url: "https://www1.assets-gap.com/webcontent/0018/563/919/cn18563919.jpg",
      },
      {
        color: "Navy",
        url: "https://www1.assets-gap.com/webcontent/0018/717/333/cn18717333.jpg",
      },
    ],
    disc: "FIT: Semi-fitted, skims easily over the body with a mid-rise waistband. FOR: Commuting, work and travel. FEEL: Featherweight Stretchâ„¢ fabric made with recycled polyester feels silky sleek and light as air. FAVE: Five pockets; 2 front hand, 3 secure zip.",
    productURL: "https://www.neimanmarcus.com/p/gucci-floral-print-silk-twill-cropped-pajama-culottes-prod211240215?utm_source=google_shopping&adpos=&scid=scplpsku179331122&sc_intid=sku179331122&ecid=NMCS__GooglePLA&gclid=Cj0KCQjw2PP1BRCiARIsAEqv-pRhK4SBzlvxuhAyJf3rIR5arB39tLsI9qxcAXFFg558Xic5mQ5836EaAjDAEALw_wcB&gclsrc=aw.ds",

  },
  {
    id: 04,
    name: "Summer Women's Skirt Pant Ruffle Palazzo",
    nameD: "Summer Women's Skirt Pant Ruffle Palazzo Trouser Boho Wide Leg Loose Skirt Pants",
    price: 20.00,
    model: "Fashion Culotte",
    size: [2, 4, 6, 8, 10],
    imgUrl: [{
        color: "grey",
        url: "https://contestimg.wish.com/api/webimage/5da51719eac01d008ff95556-2-large",
      },
      {
        color: "Black",
        url: "https://contestimg.wish.com/api/webimage/5da51719eac01d008ff95556-6-large",
      },
      {
        color: "red",
        url: "https://contestimg.wish.com/api/webimage/5da51719eac01d008ff95556-7-large",
      },
      {
        color: "Navy",
        url: "https://contestimg.wish.com/api/webimage/5da51719eac01d008ff95556-5-large",
      },
    ],
    disc: "Summer Women's Skirt Pant Ruffle Palazzo Trouser Boho Wide Leg Loose Skirt Pants.",
    productURL: "https://www.wish.com/product/5da51719eac01d008ff95556?hide_login_modal=true&from_ad=goog_shopping&_display_country_code=US&_force_currency_code=USD&pid=googleadwords_int&c=%7BcampaignId%7D&ad_cid=5da51719eac01d008ff95556&ad_cc=US&ad_curr=USD&ad_price=20.20&campaign_id=7203534630&gclid=Cj0KCQjw2PP1BRCiARIsAEqv-pQfIP3C7d-oXir5J0FahSbNe1g-BW0fK5lK6kbqaIB38Ycpc_HocrkaAquXEALw_wcB&share=web",
  },

];

const articles = [{
    headline: "J-Law in Flowy Culottes",
    articleImage: 'https://bit.ly/2WKKlbi',
    publishDate: '01/15/20',
    articleURL: 'https://bit.ly/2WqQZod',
  },
  {
    headline: "Mila Kunis in Wide-Leg Pants",
    articleImage: 'https://bit.ly/3dGj8gC',
    publishDate: '12/10/19',
    articleURL: 'https://bit.ly/2WT6m7F',
  },
  {
    headline: "Kate Middleton repping the 'lottes",
    articleImage: 'https://bit.ly/2YWXmBl',
    publishDate: '10/10/19',
    articleURL: 'https://bit.ly/2LpD3UY',
  },
];

const printToDom = (selector, textToPrint) => {
  const selectedDiv = document.querySelector(selector);
  if (selectedDiv === null) return;
  selectedDiv.innerHTML = textToPrint;
}

const getImageURLs = (arr) => {
  let imgURLs = [];

  // Get all possible image URLs
  arr.forEach(pants => {
    pants.imgUrl.forEach(url => {
      imgURLs.push(url.url);
    })
  });

  // From all possible image URLs
  // We will select 10 of those for previewing on the homepage
  let selectedURLs = [];

  for (let i = 0; i < 10; i++) {
    selectedIndex = Math.floor(Math.random() * imgURLs.length);
    selectedURLs.push(imgURLs.splice(selectedIndex, 1));
  }

  return selectedURLs;
}

const previewCardBuilder = (arr) => {

  let domString = '';

  for (let i = 0; i < 10; i++) {

    // Create a row div where required
    if (i == 0 || i == 2 || i == 6) {
      domString += `<div class="row">`;
    }

    // Create the top row bigger cards
    if (i <= 1) {
      domString += `
      <div class="card testcard col-12 col-lg-6 card-primary preview-card">
        <div class="card-body mx-auto">
          <a href="./shopping.html"><img class="card-img preview-card-img" src="${arr[i]}"></a>
        </div>
      </div>
      `;
    }
    // Otherwise, we create the smaller cards
    else {
      domString += `
      <div class="card testcard col-12 col-md-6 col-log-3 preview-card">
        <div class="card-body mx-auto">
          <a href="./shopping.html"><img class="preview-card-img-sm" src="${arr[i]}"></a>
        </div>
      </div>
      `;
    }

    // Ends the row div
    if (i == 1 || i == 5 || i == 9) {
      domString += `</div>`;
    }
  }

  return domString;
};



const articleCardBuilder = (arr) => {
  let domString = '';

  for (let i = 0; i < arr.length; i++) {
    domString += `
    <div class="col-5 mx-auto">
    <div class="card mt-3 testcard">
      <div class="card-body p-2">
        <h5 class="card-title">${arr[i].headline}</h5>
        <p class="card-text testCardText">${arr[i].publishDate}</p>
        <img class="card-img-top" src="${arr[i].articleImage}" alt="">
      </div>
    </div>
    </div>
    `;
  }
  printToDom('#articleCards', domString);
}

//Build all Product cards
const buildProductCard = (arr) => {
  domString = '';
  for (let i = 0; i < arr.length; i++) {
    domString += `
       <div class="col-6 col-md-3 mb-3">
          <div class="card testcard">
             <div class="card-body p-2">
                <img class="card-img-top adj" src="${arr[i].imgUrl[0].url}" alt="">
                <h6 class="card-title">${arr[i].name}</h6>
                <p class="card-text testCardText">$${arr[i].price}</p>        
                <p class="card-text testCardText">${arr[i].model}</p>
                <a id ="${arr[i].id}" onClick= "detailsCard(this.id)" href="#" class="btn btn-outline-warning btnDetails">Details</a>        
             </div>
           </div>
       </div>
     `;
  }
  printToDom('#allCards', domString);
}

// this var below for select imgae and color
let imgSelected = 0;
let cardSelected = 0;

// build product card details.

const buildProductDetailcard = (arr, x, s) => {
  domString = '';
  for (let i = 0; i < arr.length; i++) {
    if (i === x) {
      domString += `
                   <div class="col-md-4">
                        <img id="imgDetail" src="${arr[i].imgUrl[s].url}" class="card-img detailsCard" alt="...">
                   </div>`;
      domString += `<div class="col-md-8">`;
      domString += `<div class="card-body">`;
      domString += `<h5 class="card-title">${arr[i].name}</h5>`;
      domString += `<h6 class="card-text testCardText">${arr[i].nameD}</h6>`;
      domString += `<h6 class="card-text testCardText">$${arr[i].price}</h6>`;
      domString += `<h6 class="card-text testCardText">Color: ${arr[i].imgUrl[s].color}</h6>`;
      domString += `<div class ="row">`;
      // <input type="radio" name="options" id="option1" autocomplete="off" checked">
      for (j = 0; j < arr[i].imgUrl.length; j++) {
        domString += `
                     <div class="col-2">
                        <div class="btn-group btn-group-toggle"  data-toggle="buttons">
                            <label class="btn btn-secondary active" style = "background-color:${arr[i].imgUrl[j].color};">
                               <input type="radio" onClick= "changeImgCard(this.id)" name="options" id="${j}" style = "background-color:${arr[i].imgUrl[j].color};" autocomplete="off" checked>
                            </label>
                        </div>                        
                     </div>
                    `;
      }
      domString += `</div>`;
      //domString += `<p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>`;
      domString +=`<h6 class="testCardText detailsCard">US SIZE: <span>PLEASE SELECT</span></h6>`;
      domString +=`<div class ="row">`;
      for (j=0; j<arr[i].size.length; j++){
        domString +=`
             <div class="col-2">
                 <div class="btn-group btn-group-toggle"  data-toggle="buttons">
                     <label class="btn btn-secondary active" style = "background-color:Bisque;color:black;">
                         <input type="radio" onClick= "changeSaveCard(this.id)" name="options" id="${j}"  style = "color:black;" autocomplete="off" checked>${arr[i].size[j]}
                     </label>
                 </div>                        
             </div>
       `;
      }
      domString +=`</div>`;
      domString +=`<h6 class="card-text testCardText detailsCard">Style: <span>${arr[i].model}</span> </h6>`;
      domString +=`<h6 class="card-text testCardText">QUANTITY:</h6>`;
      domString +=`<input type="text" maxlength="2" onClick= "changeSaveCard(this.id)" name="options" id="${j}" class="card-text testCardText" style = "background-color:Bisque;max-width:30px;border-radius:3px;" autocomplete="off" checked>`;
      domString +=`<a id ="${arr[i].id}" onClick= "addCartCard(this.id)" href="#" class="btn btn-outline-warning float-right btnDetails">Add To Cart</a>`;   
      domString += `<h6 class="card-text testCardText detailsCard">Description:</h6>`
      domString += `<p class="card-text testCardText"><small class="text-muted">${arr[i].disc}</small></p>`;
      domString += `</div>`;
    }
  }
  printToDom('#dCards', domString);
}

function changeImgCard(clicked) {
  const tempStudentCollection = [];
  var x = Number(clicked);
  imgSelected = x;
  const myDetails = pants01.filter(mmod => {
    return mmod.id === x;
  });
  //myFunctionShow("details");
  buildProductDetailcard(pants01, cardSelected, imgSelected);
}

// function for show hide items.
function myFunctionShow(id) {
  var x = document.getElementById(id);
  if (x.style.display === "none") {
    x.style.display = "block";
  }
}

function myFunctionHide(id) {
  var x = document.getElementById(id);
  if (x.style.display === "block") {
    x.style.display = "none";
  }
}


function detailsCard(clicked) {
  const tempStudentCollection = [];
  var x = Number(clicked);
  cardSelected = x;
  imgSelected = 0;
  const myDetails = pants01.filter(mmod => {
    return mmod.id === x;
  });
  myFunctionShow("details");
  buildProductDetailcard(pants01, x, imgSelected);
}

// Adding and Show by or filter by models for product below:
const filterModelCulotteEvent = (event) => {
  const buttonID = event.target.id;
  if (buttonID === 'historyCulotte') {
    const history = pants01.filter(mmod => {
      return mmod.model === "History Culotte";
    });
    myFunctionHide("details");
    buildProductCard(history);
  } else if (buttonID === 'fashion') {
    const fashion = pants01.filter(mmod => {
      return mmod.model === "Fashion Culotte";
    });
    myFunctionHide("details");
    buildProductCard(fashion);
  } else if (buttonID === 'all') {
    myFunctionHide("details");
    buildProductCard(pants01);
  } else {
    //buildProductDetailcard(pants01);
  }
}

const history = [{
    imgUrl: 'https://www.traditioninaction.org/Questions/Images/L_005_ancien.jpg',
    altImg: 'French Revolutionaries',
    class: 'revCulottes',
    heading: 'French Revolutionaries inbetween 1789-1799',
    info: 'French revolutionary fighters were called sans-culottes due to the garb they wore.',
    imgClass: 'rev'
  },
  {
    imgUrl: 'https://silhouettetrends.files.wordpress.com/2014/04/0a3ce42990e2072e454ee245e38f121e.jpg',
    altImg: 'woman riding a bike in culottes',
    class: 'bikes',
    heading: 'Woman wearing culottes in 1930s.',
    info: 'Culottes made a come back in womens fashion in the 1930s as it allowed them do more physical things without worry of their skirt lifting.',
    imgClass: 'biker'
  },
  {
    imgUrl: 'https://i.ebayimg.com/images/g/yBEAAOSwqz9Zwh8Q/s-l1600.jpg',
    altImg: 'japanese male in a hakama',
    class: 'hakama',
    heading: 'Japanese Hakama',
    info: 'The japanese had their own form of culottes that were used to aid in horseback riding and hide their feet from opponents.',
    imgClass: 'japan'
  }
]

const historyCard = (hist) => {
  let cardString = '';

  for (let i = 0; i < hist.length; i++) {
    cardString += `
    <div class="col-3 col-md">
      <div class="card ${hist[i].class} historyCards" style="width: 18em;">
        <img class="card-img-top historyImg ${hist[i].imgClass}" src="${hist[i].imgUrl}" alt="${hist[i].altImg}">
        <div class="card-body">
          <h6 class="card-title historyTitle">${hist[i].heading}</h6>
          <p class="card-text hist-card">${hist[i].info}</p>
        </div>
      </div>
    </div>  
        `
  }
  printToDom('#historical', cardString);
}

const clickEvents = () => {

  if (document.querySelector('#historyCulotte')) {
    document.querySelector('#historyCulotte').addEventListener('click', filterModelCulotteEvent);
  }

  if (document.querySelector('#fashion')) {
    document.querySelector('#fashion').addEventListener('click', filterModelCulotteEvent);
  }

  if (document.querySelector('#all')) {
    document.querySelector('#all').addEventListener('click', filterModelCulotteEvent);
  }

}

const about = [
  {line: 'We are diverse group of Culotte Aficionados that are here to educate the masses on the history of these majestic pants and revel in the recent revival of the Culotte in the modern fashion scene.'},
  {line: "Here, you'll be amongst like minded fashionistas that share a fervent appreciation for history's greatest style of leg covers."},
  {line: "Whether you are a longtime fan of the split skirt wonder, or this is the first time you're being exposed to the truth of the Culotte, this site should aid in your education, appreciation, and acquisition of everything that is Culotte!"},
];

const aboutUsBuilder = (arr) => {
  let domString = '';

  for (let i = 0; i < arr.length; i++) {
    domString += `<p>${arr[i].line}</p>`;
  }
  printToDom('#aboutUs', domString);
}

const init = () => {
  aboutUsBuilder(about);
  buildProductCard(pants01);
  articleCardBuilder(articles);
  historyCard(history);
  printToDom("#previewCardContainer", previewCardBuilder(getImageURLs(pants01)));
  clickEvents();
}

init();
